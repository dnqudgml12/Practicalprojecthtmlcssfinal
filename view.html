<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="mycss.css">
</head>
<body class="bodybody">
    <h1 class="h1h1">View Word</h1>
    <form id="postForm" >
        <h2>Word Details</h2>
        <div class="div">
            <label class="label" for="postId">ID:</label> <input  class="text" id="wordId">
        </div>
        <div class="div">
            <label class="label" for="postWord">Word:</label> <input  class="text" id="word">
        </div>
        <div class="div">
            <label class="label" for="postMeaning">Meaning:</label> <input  class="text" id="meaning">
        </div>
        <div class="div">
            <label class="label" for="postDate">Date:</label> <input  class="text" id="date">
        </div>
        
        <!-- Edit 버튼 추가 -->
        <button  class="submit" onclick="redirectToEditPage()">Edit</button>
        
        <button  class="submit"onclick="deletetopage()">delete</button>
    </form>

    <script>
        // URL에서 쿼리 매개변수를 가져오는 함수
        function getQueryVariable(variable) {
            var query = window.location.search.substring(1);
            var vars = query.split("&");
            for (var i = 0; i < vars.length; i++) {
                var pair = vars[i].split("=");
                if (pair[0] === variable) {
                    return pair[1];
                }
            }
            return null;
        }

        // 페이지 로드 시 쿼리 매개변수에서 데이터 가져와서 표시
        window.addEventListener('load', function () {
            var wordId = getQueryVariable('id');
            var word = decodeURIComponent(getQueryVariable('word'));
            var meaning = decodeURIComponent(getQueryVariable('meaning'));
            var date = decodeURIComponent(getQueryVariable('date'));

            document.getElementById('wordId').textContent = wordId;
            document.getElementById('word').textContent = word;
            document.getElementById('meaning').textContent = meaning;
            document.getElementById('date').textContent = date;
        });

        // Edit 버튼을 누르면 해당 단어의 ID를 가지고 "edit.html" 페이지로 이동
// Edit 버튼을 누르면 해당 단어의 ID, 단어, 의미, 날짜를 "edit.html" 페이지로 전달
function redirectToEditPage() {
    var wordId = getQueryVariable('id');
    var word = decodeURIComponent(getQueryVariable('word'));
    var meaning = decodeURIComponent(getQueryVariable('meaning'));
    var date = decodeURIComponent(getQueryVariable('date'));
    
    // URL에 매개변수로 전달
    var newPageUrl = 'edit.html?id=' + wordId + '&word=' + encodeURIComponent(word) + '&meaning=' + encodeURIComponent(meaning) + '&date=' + encodeURIComponent(date);
    window.location.href = newPageUrl;
}

function deletetopage(){

    var confirmation = window.confirm("게시물을 삭제할까요");
    if (confirmation) {
        // 확인 버튼을 클릭하면 특정 주소로 이동 (예: 'edit_process.php')
        // 이동하려는 주소를 여기에 지정하세요.
        window.location.href = 'https://eloquent-pixie-3d6bfe.netlify.app'; // 이동하려는 주소를 설정
    }
}

    </script>
</body>
</html>
